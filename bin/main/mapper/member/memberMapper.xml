<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">
	<!-- 회원가입 멤버 등록 -->
	<insert id="join">
	    INSERT INTO T_MEMBER(   ME_ID
	   					       , ME_PASS 
	   					       , ME_NICKNAME
	   					       , ME_DEVLANG  	)
	                  VALUES(    #{me_id}
	                 		   , #{me_pass}
	                 		   , #{me_nickName}
	                 		   , #{me_devLang}  )
    </insert>
   <!-- id 중복체크 -->
   <select id="checkId" resultType="int">
	   SELECT COUNT(*) 
	   FROM T_MEMBER
	   WHERE ME_ID = #{me_id}
   </select>
   <!-- //id 중복체크 -->
   
   <!-- 로그인 체크 -->
   <select id="selectMemberView" parameterType="memberVO" resultType="memberVO">
   		<![CDATA[
	   		SELECT *
	   		FROM T_MEMBER
	   		WHERE ME_ID = #{me_id}
   		]]>
   </select>
   <!-- //로그인 체크 -->
   
   <!-- 마이페이지 수정 -->
	<update id="ModifyMypage">
	  <![CDATA[
		UPDATE T_MEMBER 
		SET ME_NICKNAME = #{me_nickName},
			ME_PASS = #{me_pass},
			ME_DEVLANG = #{me_devLang}
		WHERE ME_ID = #{me_id}
		]]>
	</update>
   <!-- //마이페이지 수정 -->
   
      <!-- 회원탈퇴 -->
	<update id="deleteMember">
	  <![CDATA[		
			DELETE FROM T_MEMBER
			WHERE ME_ID = #{me_id}
		]]>
	</update>
   <!-- //회원탈퇴 -->
   
   <!-- 내가 쓴 글 조회 -->
   <select id="ViewMyPostMember" parameterType="memberVO" resultType="BoardVO">
   		<![CDATA[
	   		SELECT *
	   		FROM T_POST
	   		WHERE po_writer = #{me_id} AND po_deleteYn = 'N'
   		]]>
   </select>
   <!-- // 내가 쓴 글 조회  -->
   
   <!-- 내가 쓴 답변 조회 -->
   <select id="ViewMyCommentMember" parameterType="memberVO" resultType="CommentVO">
       <![CDATA[
	   		SELECT *
	   		FROM t_comment LEFT OUTER JOIN t_post
	   		ON t_post.po_num = t_comment.co_post_num
	   		WHERE CO_USER_ID = #{me_id}
	   		ORDER BY CO_DATETIME DESC;
   		]]>
   </select>
   <!-- // 내가 쓴 답변 조회  -->
   
 
   
</mapper>